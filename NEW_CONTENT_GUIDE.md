# New Content Guide - TTK Game Expansion

## Overview
This document covers all new maps, NPCs, quests, monsters, items, and systems added to TTK.

## Table of Contents
1. [New Maps/Zones](#new-mapszones)
2. [New Monsters & Bosses](#new-monsters--bosses)
3. [New NPCs](#new-npcs)
4. [New Quests](#new-quests)
5. [New Items & Equipment](#new-items--equipment)
6. [Equipment Enhancement System](#equipment-enhancement-system)
7. [Race System](#race-system)

---

## New Maps/Zones

### Wilderness Zones

#### Hoang Dã - Khu 0203 (Rừng Rậm)
- **Level**: 15
- **Type**: Wilderness (PVE)
- **Energy Cost**: 10 per move
- **Death Penalty**: 15% energy crystal loss
- **Description**: Dense jungle with mutated vegetation
- **Monsters**: Venomous Spider, Mutant Mantis, Toxic Vine
- **Boss**: Toxic Treant
- **Resources**: Cosmic Herb (Low), Monster Hide (Mid)
- **Connections**: From Hoang Da 0202, to Poison Cave

#### Hoang Dã - Khu 0204 (Đồi Đá)
- **Level**: 20
- **Type**: Wilderness (PVE)
- **Energy Cost**: 12 per move
- **Death Penalty**: 18% energy crystal loss
- **Description**: Rocky hills with flying and climbing monsters
- **Monsters**: Razor Hawk, Rock Lizard, Crystal Scorpion
- **Boss**: Stone Golem King
- **Resources**: Blue Gold Ore, Alloy Ore
- **Connections**: From Hoang Da 0203, to Ancient Quarry

#### Hầm Ngầm Biến Dị (Underground)
- **Level**: 28
- **Type**: Wilderness (PVE)
- **Energy Cost**: 14 per move
- **Death Penalty**: 20% energy crystal loss
- **Description**: Mutated underground tunnels with aberrations
- **Monsters**: Tunnel Crawler, Aberration Spawn, Mutant Fungus
- **Boss**: Aberration Lord
- **Resources**: Bio Sample, Energy Crystal
- **Connections**: From Hoang Da 0204, to Deep Underground

### Secret Realms (Boss Zones)

#### Hang Động Độc Dược (Poison Cave)
- **Level**: 18
- **Boss**: Poison Spider Queen
- **Rewards**: Spider Queen Fang, Venom Sac, Cosmic Herbs
- **Special Drop**: Venom Blade blueprint

#### Mỏ Đá Cổ Đại (Ancient Quarry)
- **Level**: 22
- **Boss**: Stone Golem King
- **Rewards**: Golem Core, Ancient Stone, Kele Metal Fragment
- **Special Drop**: Golem Hammer blueprint

#### Di Tích Thiên Cảnh (Ancient Ruins)
- **Level**: 35
- **Type**: Secret Realm
- **Monsters**: Ancient Guardian, Ruin Sentinel
- **Rewards**: Ancient Relics, Gene Solution (Advanced), Cosmic Herbs
- **Note**: Good for cultivation

#### Hầm Ngầm Biến Dị - Tầng Sâu (Deep Underground)
- **Level**: 32
- **Boss**: Aberration Lord
- **Rewards**: Aberration Core, Gene Solution (Advanced), Ruin Modules

### Base Zones (Safe)

#### Khu Luyện Tập Võ Thuật (Training Area)
- **Level**: 5+
- **NPCs**: Dao Su, Kiem Su, Quyen Su (training masters)
- **Services**: Skill training, stat training
- **Purpose**: Learn combat skills

#### Khu Bang Hội (Guild Area)
- **Level**: 10+
- **NPC**: Guild Manager
- **Services**: Guild creation and management
- **Purpose**: Social/guild features

### Chaos Zone (PVP)

#### Khu Hỗn Loạn Rừng Thép (Steel Forest)
- **Level**: 25
- **Type**: Chaos (PVP enabled)
- **Energy Cost**: 12 per move
- **Death Penalty**: 35% crystal loss + 15% item drop chance
- **Description**: Metal forest with valuable resources, PVP allowed
- **Monsters**: Steel Beast, Electric Wolf
- **Resources**: Alloy Ore, Energy Crystals, Ruin Modules
- **Warning**: High risk, high reward

---

## New Monsters & Bosses

### Forest/Jungle Monsters (Level 14-17)
- **Venomous Spider** (Lv15) - Drops: Venom Sac
- **Mutant Mantis** (Lv16) - Drops: Sharp Blade Limb
- **Toxic Vine** (Lv14) - Drops: Toxic Extract

### Rocky Area Monsters (Level 19-21)
- **Razor Hawk** (Lv20) - Flying beast, drops Razor Feather
- **Rock Lizard** (Lv19) - Armored, drops Stone Scale
- **Crystal Scorpion** (Lv21) - Poison + crystal, drops Crystal Shard

### Chaos Zone Monsters (Level 25-26)
- **Steel Beast** (Lv25) - Metal-plated, drops Steel Plate
- **Electric Wolf** (Lv26) - Lightning attacks, drops Electric Core

### Underground Monsters (Level 27-29)
- **Tunnel Crawler** (Lv28) - Fast burrower, drops Bio Sample
- **Aberration Spawn** (Lv29) - Mutant, drops Aberration Tissue
- **Mutant Fungus** (Lv27) - Poison spores, drops Fungal Spore

### Advanced Monsters (Level 34-35)
- **Ancient Guardian** (Lv35) - Ancient technology, drops Ancient Relic
- **Ruin Sentinel** (Lv34) - Guardian construct, drops Ruin Module

### Boss Monsters

#### Poison Spider Queen (Level 18)
- **HP**: 2000
- **Location**: Poison Cave
- **Special**: Poison attacks
- **Drops**: Spider Queen Fang (Epic), Venom Sac x5-8, Energy Crystals x20-30

#### Toxic Treant (Level 17)
- **HP**: 2200
- **Location**: Forest Zone
- **Special**: High defense, poison aura
- **Drops**: Treant Heart (Epic), Toxic Extract x4-7

#### Stone Golem King (Level 22)
- **HP**: 2800
- **Location**: Ancient Quarry
- **Special**: Extreme defense
- **Drops**: Golem Core (Epic), Ancient Stone x3-6, Kele Metal Fragment

#### Aberration Lord (Level 32)
- **HP**: 3500
- **Location**: Deep Underground
- **Special**: Life steal, high crit
- **Drops**: Aberration Core (Epic), Gene Solution (Advanced), Ruin Modules

---

## New NPCs

### Training Masters (Khu Luyện Tập)

#### Đao Sư Huấn Luyện (Blade Master)
- **Services**: Skill training, shop
- **Skills Taught**: Thunder Blade, Rapid Strike
- **Personality**: Strict but fair

#### Kiếm Sư Huấn Luyện (Sword Master)
- **Services**: Skill training
- **Skills Taught**: Iron Body
- **Personality**: Wise and balanced

#### Quyền Sư Huấn Luyện (Fist Master)
- **Services**: Skill training, stat training
- **Skills Taught**: Eight Extremes Fist
- **Personality**: Fierce and direct

### Craftsmen

#### Thợ Rèn Vũ Khí (Weapon Smith)
- **Services**: Weapon crafting, enhancement, shop
- **Sells**: Enhancement stones, weapon blueprints
- **Location**: Forge (Xưởng Rèn)

#### Thợ Rèn Giáp (Armor Smith)
- **Services**: Armor crafting, enhancement, shop
- **Sells**: Enhancement stones, armor blueprints
- **Location**: Forge

### Special Merchants

#### Thương Nhân Bí Ẩn (Mysterious Merchant)
- **Services**: Rare item shop
- **Sells**: 
  - Race-specific equipment (12,000 crystals each)
  - Gene Solutions (Advanced) - 20,000 crystals
  - Elite Enhancement Stones - 2,000 crystals
- **Location**: Appears in various zones

#### Y Sư (Healer)
- **Services**: Healing, consumable shop
- **Sells**: Life Essence, Energy Solutions
- **Location**: Base area

### Management NPCs

#### Quản Lý Bang Hội (Guild Manager)
- **Services**: Guild creation/management
- **Requirements**: 10,000 Energy Crystals to create guild
- **Location**: Guild Area

#### Trưởng Lão Nhân Loại (Human Elder)
- **Services**: Quest giver, lore
- **Quests**: Race-specific quests for humans
- **Location**: Base area

#### Thuyền Trưởng Không Gian (Space Captain)
- **Services**: Space travel, ship shop
- **Sells**: Fuel cells, spaceships
- **Location**: Earth Spaceship Bay

---

## New Quests

### Main Story Quests

#### [Chính] Thám Hiểm Rừng Rậm (Lv15)
- **Giver**: Võ Sư Trương
- **Objectives**:
  - Explore Hoang Da 0203
  - Kill 5 Venomous Spiders
  - Kill 3 Mutant Mantises
  - Report back
- **Rewards**: 800 exp, 5 Basic Enhancement Stones, 25 reputation

#### [Chính] Tiêu Diệt Nữ Vương Nhện (Lv18)
- **Giver**: Võ Sư Trương
- **Objectives**: Defeat Poison Spider Queen
- **Rewards**: 1500 exp, Venom Blade, 3 Advanced Enhancement Stones, 50 reputation

#### [Chính] Chinh Phục Đồi Đá (Lv20)
- **Giver**: Võ Sư Trương
- **Objectives**:
  - Explore Hoang Da 0204
  - Gather 10 Blue Gold Ore
  - Defeat Stone Golem King
- **Rewards**: 2000 exp, Golem Hammer, 100 Energy Crystals, 60 reputation

#### [Chính] Hầm Ngầm Bí Mật (Lv28)
- **Giver**: Intelligence Officer
- **Objectives**:
  - Explore Underground
  - Explore Deep Underground
  - Defeat Aberration Lord
- **Rewards**: 3000 exp, Aberration Claw, 2 Advanced Gene Solutions, 200 crystals, 100 reputation

### Side Quests

#### Huấn Luyện Đao Pháp (Lv10)
- **Giver**: Blade Master
- **Objective**: Kill 20 Horned Wolves
- **Reward**: Rapid Strike skill book

#### Huấn Luyện Quyền Pháp (Lv12)
- **Giver**: Fist Master
- **Objective**: Kill 10 Iron Fist Apes
- **Reward**: Eight Extremes Fist skill book

#### Rèn Vũ Khí Đầu Tiên (Lv15)
- **Giver**: Weapon Smith
- **Objectives**:
  - Gather 15 Alloy Ore
  - Gather 5 Mid Beast Tendons
- **Rewards**: Alloy Armor blueprint, 10 Basic Enhancement Stones

### Daily Quests

#### [Hằng Ngày] Săn Quái Thú (Lv5+)
- **Objective**: Kill 10 Bloodfang Boars
- **Reward**: 300 exp, 20 Energy Crystals
- **Repeatable**: Yes

#### [Hằng Ngày] Thu Thập Tài Nguyên (Lv8+)
- **Objective**: Gather 15 Low Beast Hides
- **Reward**: 250 exp, 15 Energy Crystals
- **Repeatable**: Yes

### Race-Specific Quests

#### [Nhân Loại] Di Sản Của Tổ Tiên (Lv15)
- **Race**: Human only
- **Giver**: Human Elder
- **Objectives**:
  - Explore Ancient Ruins
  - Gather 3 Ancient Relics
- **Rewards**: Human Valor Badge, 1200 exp, 40 reputation

### Challenge Quests

#### Thử Thách Khu Hỗn Loạn (Lv25)
- **Giver**: Intelligence Officer
- **Objectives**:
  - Explore Steel Forest (PVP zone)
  - Gather 20 Alloy Ore in PVP zone
- **Rewards**: Steel Alloy Suit, 150 Energy Crystals, 2500 exp, 70 reputation
- **Warning**: PVP zone - other players can attack you

#### Bí Ẩn Di Tích Cổ (Lv35)
- **Giver**: Intelligence Officer
- **Objectives**:
  - Explore Ancient Ruins
  - Kill 5 Ancient Guardians
  - Gather 5 Ancient Relics
- **Rewards**: Ancient Medallion, Elite Gene Solution, 300 crystals, 4000 exp, 120 reputation

---

## New Items & Equipment

### New Monster Drops (Resources)
- Venom Sac (Uncommon) - From spiders
- Sharp Blade Limb (Uncommon) - From mantis
- Toxic Extract (Common) - From toxic monsters
- Razor Feather (Uncommon) - From hawks
- Stone Scale (Common) - From lizards
- Crystal Shard (Rare) - From scorpions
- Steel Plate (Uncommon) - From steel beasts
- Electric Core (Rare) - From electric wolves
- Bio Sample (Uncommon) - From aberrations
- Aberration Tissue (Rare) - From aberrations
- Fungal Spore (Common) - From fungus

### Boss Drops (Epic Materials)
- Spider Queen Fang - Crafting material
- Treant Heart - Crafting material
- Golem Core - Crafting material
- Ancient Stone - Crafting material
- Aberration Core - Crafting material

### New Weapons

#### Venom Blade (Rare, Lv18)
- **Stats**: +25 attack, +5% crit chance
- **Effect**: Poison damage over time
- **Crafted**: Yes (requires blueprint)

#### Crystal Spear (Rare, Lv21)
- **Stats**: +28 attack, +5 resistance
- **Effect**: Piercing damage

#### Golem Hammer (Epic, Lv22)
- **Stats**: +35 attack, +10 defense
- **Effect**: Heavy damage, stun chance
- **Crafted**: Yes (requires Golem Core)

#### Electric Blade (Rare, Lv26)
- **Stats**: +30 attack, +5 speed
- **Effect**: Lightning damage, paralysis

#### Aberration Claw (Epic, Lv32)
- **Stats**: +38 attack, +30% crit damage
- **Effect**: Life steal on hit

### New Armor

#### Spider Silk Armor (Rare, Lv18)
- **Stats**: +18 defense, +8% dodge chance
- **Crafted**: Yes (requires Spider Queen Fang)

#### Stone Plate Armor (Rare, Lv19)
- **Stats**: +28 defense, +8 resistance

#### Golem Shell (Epic, Lv22)
- **Stats**: +35 defense, +200 HP
- **Crafted**: Yes (requires Golem Core)

#### Steel Alloy Suit (Rare, Lv25)
- **Stats**: +25 defense, +10 resistance

#### Aberration Hide (Epic, Lv32)
- **Stats**: +30 defense, +150 HP
- **Effect**: Slow HP regeneration

### New Accessories

#### Venom Ring (Rare, Lv18)
- **Stats**: +8% crit chance, +15% crit damage

#### Crystal Amulet (Rare, Lv20)
- **Stats**: +100 energy max, +5 resistance

#### Golem Heart Stone (Epic, Lv22)
- **Stats**: +300 HP, +15 defense

#### Ancient Medallion (Epic, Lv35)
- **Stats**: +15 attack, +15 spirit, +10 defense

#### Aberration Eye (Legendary, Lv32)
- **Stats**: +25 spirit, +10% crit chance, +5% dodge chance

### Race-Specific Equipment (All Level 15, Rare)

#### Human Valor Badge
- **Stats**: +10 attack, +10 defense, +100 HP
- **Race**: Human only
- **Price**: 12,000 Energy Crystals

#### Mutant Power Gauntlet
- **Stats**: +20 attack, +20% crit damage
- **Race**: Mutant only
- **Price**: 12,000 Energy Crystals

#### Esper Mind Crown
- **Stats**: +25 spirit, +150 energy
- **Race**: Esper only
- **Price**: 12,000 Energy Crystals

#### Cyborg Power Core
- **Stats**: +15 defense, +10 resistance, +100 energy
- **Race**: Cyborg only
- **Price**: 12,000 Energy Crystals

#### Beastkin Feral Totem
- **Stats**: +15 attack, +8 speed, +5% dodge
- **Race**: Beast Kin only
- **Price**: 12,000 Energy Crystals

#### Voidwalker Shadow Cloak
- **Stats**: +10% crit chance, +8% dodge, +5 speed
- **Race**: Void Walker only
- **Price**: 12,000 Energy Crystals

### Enhancement Materials

#### Enhancement Stone - Basic (Common)
- **Use**: Enhance common/uncommon equipment
- **Success Rate**: 95% (common), 85% (uncommon)
- **Price**: 100 Energy Crystals
- **Drop**: Training quests, daily quests

#### Enhancement Stone - Advanced (Uncommon)
- **Use**: Enhance rare equipment
- **Success Rate**: 75%
- **Price**: 500 Energy Crystals
- **Drop**: Boss monsters, main quests

#### Enhancement Stone - Elite (Rare)
- **Use**: Enhance epic equipment
- **Success Rate**: 60%
- **Price**: 2,000 Energy Crystals
- **Drop**: High-level bosses, mysterious merchant

#### Enhancement Stone - Legendary (Epic)
- **Use**: Enhance legendary equipment
- **Success Rate**: 40%
- **Drop**: Endgame content only

### Crafting Blueprints

#### Blueprint: Venom Blade (Rare)
- **Recipe**: 5 Venom Sac + 8 Alloy Ore + 3 Mid Beast Tendon
- **Result**: Venom Blade
- **Price**: 8,000 Energy Crystals

#### Blueprint: Golem Hammer (Epic)
- **Recipe**: 1 Golem Core + 10 Ancient Stone + 3 Kele Metal Fragment
- **Result**: Golem Hammer
- **Price**: 15,000 Energy Crystals

#### Blueprint: Spider Silk Armor (Rare)
- **Recipe**: 1 Spider Queen Fang + 8 Venom Sac + 5 Mid Beast Hide
- **Result**: Spider Silk Armor
- **Price**: 10,000 Energy Crystals

---

## Equipment Enhancement System

### Overview
Players can enhance equipment to make it more powerful, but enhancement has a chance to fail.

### How to Enhance

```json
POST /api/action
{
  "action": "equipment/enhance",
  "payload": {
    "itemId": "venom_blade"
  }
}
```

### Enhancement Mechanics

1. **Requirements**:
   - Equipment item in inventory
   - Appropriate enhancement stone(s)
   - Enough Energy Crystals (for purchasing stones)

2. **Success Rates by Rarity**:
   - Common: 95% (1 Basic Stone)
   - Uncommon: 85% (2 Basic Stones)
   - Rare: 75% (1 Advanced Stone)
   - Epic: 60% (1 Elite Stone)
   - Legendary: 40% (1 Legendary Stone)

3. **Success**:
   - Equipment upgraded to +1 version
   - Stats increased by ~10-20%
   - Enhancement stone consumed
   - Can enhance multiple times (up to +10)

4. **Failure**:
   - Equipment destroyed
   - Enhancement stone consumed
   - No refund

### Enhancement Strategy

- **Start with common items** to practice
- **Stock up on enhancement stones** before attempting
- **Backup important equipment** - don't enhance your only weapon
- **Consider cost vs. benefit** - sometimes it's cheaper to craft new items
- **Save elite stones** for endgame equipment only

### Where to Get Enhancement Stones

1. **Purchase from Smiths** - Basic (100), Advanced (500)
2. **Quest Rewards** - Main quests give enhancement stones
3. **Daily Quests** - Repeatable source of basic stones
4. **Mysterious Merchant** - Elite stones (2,000)
5. **Boss Drops** - Rare chance from high-level bosses

---

## Race System

See [RACE_SYSTEM.md](./RACE_SYSTEM.md) for complete documentation on:
- 6 playable races
- Unique stats and growth rates
- Innate racial skills (passive and active)
- Race-specific equipment
- Racial bonuses and penalties

---

## Progression Guide

### Level 15-20: Forest & Jungle Exploration
1. Complete "[Chính] Thám Hiểm Rừng Rậm" quest
2. Farm Hoang Da 0203 for resources
3. Challenge Poison Spider Queen at level 18
4. Craft or buy Venom Blade
5. Get training from NPCs in Training Area

### Level 20-25: Rocky Mountains
1. Progress to Hoang Da 0204
2. Farm minerals and resources
3. Challenge Stone Golem King at level 22
4. Craft Golem Hammer or Golem Shell
5. Prepare for Chaos Zone

### Level 25-30: Chaos Zone (Optional PVP)
1. Enter Steel Forest for high-value resources
2. Be prepared for PVP encounters
3. Farm Alloy Ore and Ruin Modules
4. Complete chaos zone challenge quest
5. Get Steel Alloy Suit

### Level 28-35: Underground Exploration
1. Discover Underground entrance
2. Farm Bio Samples and Aberration materials
3. Challenge Aberration Lord at level 32
4. Get Aberration Claw weapon
5. Explore Ancient Ruins for relics

### Level 35+: Endgame Content
1. Complete Ancient Ruins quest
2. Farm for Ancient Relics
3. Enhance equipment to +5 or higher
4. Collect race-specific equipment
5. Prepare for space travel (level 40+)

---

## Tips & Strategies

### Combat
- **Match your race to your playstyle** - Mutants for melee, Espers for magic, etc.
- **Use racial skills wisely** - Active skills have long cooldowns
- **Upgrade equipment regularly** - Don't rely on outdated gear
- **Bring healing items** - Life Essence and Energy Solutions

### Economy
- **Farm daily quests** for consistent income
- **Sell excess materials** on market
- **Save Energy Crystals** for important purchases
- **Don't waste enhancement stones** on low-level equipment

### Exploration
- **Check energy costs** before moving
- **Bring energy recovery items** for long expeditions
- **Avoid Chaos Zones** if you're not ready for PVP
- **Use safe zones** to rest and recover

### Leveling
- **Complete main quests** for big EXP rewards
- **Do daily quests** every day
- **Farm appropriate level zones** - don't go too high
- **Join guilds** for group content and bonuses

---

## Future Content Roadmap

Planned additions:
- More secret realms and boss encounters
- Guild vs. Guild warfare
- Advanced racial abilities (transformation)
- Equipment set bonuses
- Legendary quest lines
- Space content expansion (Mars, asteroid belt, etc.)
- Pet breeding and evolution
- Player housing and base building
